const buttonThemeToggle = document.getElementById("button-toggle");
const themeSystem = localStorage.getItem("themeSystem") || "light";

buttonThemeToggle.addEventListener("click", () => {
  let oldTheme = localStorage.getItem("themeSystem") || "light";
  let newTheme = oldTheme == "light" ? "dark" : "light";

  localStorage.setItem("themeSystem", newTheme);
  defineCurrentTheme(newTheme);
});

function defineCurrentTheme(theme) {
  const darkSVG =
    "<svg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M16 32C11.5556 32 7.77778 30.4444 4.66667 27.3333C1.55556 24.2222 0 20.4444 0 16C0 11.5556 1.55556 7.77778 4.66667 4.66667C7.77778 1.55556 11.5556 0 16 0C16.4148 0 16.8222 0.0148148 17.2222 0.0444444C17.6222 0.0740741 18.0148 0.118519 18.4 0.177778C17.1852 1.03704 16.2148 2.15556 15.4889 3.53333C14.763 4.91111 14.4 6.4 14.4 8C14.4 10.6667 15.3333 12.9333 17.2 14.8C19.0667 16.6667 21.3333 17.6 24 17.6C25.6296 17.6 27.1259 17.237 28.4889 16.5111C29.8519 15.7852 30.963 14.8148 31.8222 13.6C31.8815 13.9852 31.9259 14.3778 31.9556 14.7778C31.9852 15.1778 32 15.5852 32 16C32 20.4444 30.4444 24.2222 27.3333 27.3333C24.2222 30.4444 20.4444 32 16 32ZM16 28.4444C18.6074 28.4444 20.9481 27.7259 23.0222 26.2889C25.0963 24.8519 26.6074 22.9778 27.5556 20.6667C26.963 20.8148 26.3704 20.9333 25.7778 21.0222C25.1852 21.1111 24.5926 21.1556 24 21.1556C20.3556 21.1556 17.2519 19.8741 14.6889 17.3111C12.1259 14.7481 10.8444 11.6444 10.8444 8C10.8444 7.40741 10.8889 6.81481 10.9778 6.22222C11.0667 5.62963 11.1852 5.03704 11.3333 4.44444C9.02222 5.39259 7.14815 6.9037 5.71111 8.97778C4.27407 11.0519 3.55556 13.3926 3.55556 16C3.55556 19.437 4.77037 22.3704 7.2 24.8C9.62963 27.2296 12.563 28.4444 16 28.4444Z' fill='currentColor'/></svg>";

  const lightSVG =
    "<svg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'>        <path d='M18.1818 7.27273V0H21.8182V7.27273H18.1818ZM30.2727 12.2727L27.7727 9.77273L32.8636 4.54545L35.4091 7.13636L30.2727 12.2727ZM32.7273 21.8182V18.1818H40V21.8182H32.7273ZM18.1818 40V32.7273H21.8182V40H18.1818ZM9.72727 12.1818L4.54545 7.13636L7.13636 4.59091L12.2727 9.72727L9.72727 12.1818ZM32.8182 35.4545L27.7727 30.2273L30.2273 27.7727L35.4091 32.7727L32.8182 35.4545ZM0 21.8182V18.1818H7.27273V21.8182H0ZM7.13636 35.4545L4.59091 32.8636L9.68182 27.7727L11 29L12.3182 30.2727L7.13636 35.4545ZM20 30.9091C16.9697 30.9091 14.3939 29.8485 12.2727 27.7273C10.1515 25.6061 9.09091 23.0303 9.09091 20C9.09091 16.9697 10.1515 14.3939 12.2727 12.2727C14.3939 10.1515 16.9697 9.09091 20 9.09091C23.0303 9.09091 25.6061 10.1515 27.7273 12.2727C29.8485 14.3939 30.9091 16.9697 30.9091 20C30.9091 23.0303 29.8485 25.6061 27.7273 27.7273C25.6061 29.8485 23.0303 30.9091 20 30.9091ZM20 27.2727C22 27.2727 23.7121 26.5606 25.1364 25.1364C26.5606 23.7121 27.2727 22 27.2727 20C27.2727 18 26.5606 16.2879 25.1364 14.8636C23.7121 13.4394 22 12.7273 20 12.7273C18 12.7273 16.2879 13.4394 14.8636 14.8636C13.4394 16.2879 12.7273 18 12.7273 20C12.7273 22 13.4394 23.7121 14.8636 25.1364C16.2879 26.5606 18 27.2727 20 27.2727Z' fill='currentColor' /></svg>";

  document.body.setAttribute("data-theme", theme);

  if (theme == "light") {
    buttonThemeToggle.innerHTML = darkSVG;
  } else {
    buttonThemeToggle.innerHTML = lightSVG;
  }
}

defineCurrentTheme(themeSystem);
